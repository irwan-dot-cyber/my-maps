<!doctype html>
<html lang="id">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Order Desain Kaos â€¢ List</title>
<style>
  :root{--bg:#0f1115;--card:#171922;--fg:#e8eefc;--muted:#9aa7c7;--line:#23283a;--accent:#28d89b}
  *{box-sizing:border-box} body{margin:0;background:#0f1115;color:var(--fg);font:500 15px/1.55 system-ui,Segoe UI,Inter,Arial}
  .wrap{max-width:1200px;margin:auto;padding:22px}
  h1{font:800 20px/1.2;margin:0}
  header{margin-bottom:16px}
  .formbox{background:#171922;border:1px solid var(--line);border-radius:12px;padding:12px;margin-bottom:16px;display:flex;flex-wrap:wrap;gap:12px}
  .formbox input{flex:1;min-width:180px;padding:10px 12px;border-radius:8px;border:1px solid #26304f;background:#0f1320;color:var(--fg)}
  .btn{border:1px solid #26304f;background:#0f1320;color:#dce6ff;border-radius:10px;padding:10px 14px;cursor:pointer}
  .btn:disabled{opacity:.4;cursor:not-allowed}
  .card{background:#171922;border:1px solid var(--line);border-radius:14px;padding:10px 12px}
  .table{width:100%;border-collapse:collapse}
  .th,.td{padding:12px;border-bottom:1px solid var(--line);vertical-align:middle}
  .th{color:#aab6da;text-transform:uppercase;font-size:12px}
  .row:last-child .td{border-bottom:none}
  .no{width:56px;text-align:center}
  .title{font-weight:800}
  .thumb{width:120px;height:120px;border-radius:10px;overflow:hidden;background:#0e1018;border:1px solid var(--line);display:grid;place-items:center}
  .thumb img{width:100%;height:100%;object-fit:cover}
  .pick{text-align:center;width:90px}
  @media (max-width:760px){
    thead{display:none}
    .table, tbody, .row, .td{display:block;width:100%}
    .row{border:1px solid var(--line);border-radius:12px;margin:10px 0}
    .td{border-bottom:1px solid var(--line)}
    .td:last-child{border-bottom:none}
    .td[data-label]::before{content:attr(data-label);display:block;color:#aab6da;font-size:12px;margin-bottom:6px}
    .thumb{width:100%;height:0;padding-bottom:60%;position:relative}
    .thumb img{position:absolute;inset:0;width:100%;height:100%;object-fit:cover}
  }
</style>
</head>
<body>
<div class="wrap">
  <header>
    <h1>Order Desain Kaos</h1>
  </header>

  <!-- Form identitas -->
  <div class="formbox">
    <input id="nama" placeholder="Nama Pemesan" />
    <input id="telp" placeholder="No. Telp / WA" />
    <button id="startBtn" class="btn">Mulai Order</button>
  </div>

  <section class="card">
    <table class="table">
      <thead>
        <tr>
          <th class="th no">No</th>
          <th class="th">Judul</th>
          <th class="th">Gambar Belakang</th>
          <th class="th pick">Pilih</th>
        </tr>
      </thead>
      <tbody id="tbody"></tbody>
    </table>
  </section>
</div>

<script>
/* ====== DATA ====== */
const SETS = [
  {id:"set-nothing", title:"Nothing is Imposible", back:"./gambar/Nothing_Back.png"},
  {id:"set-zenius", title:"Zenius Street Logo", back:"./gambar/Zenius_Back.png"}
];
const PRICE = 30000;
let USER_KEY = null; // namespace cart untuk tiap orang

/* ====== Helpers ====== */
const lsKey = ()=> `orderCart_${USER_KEY}`;
const loadCart = ()=> JSON.parse(localStorage.getItem(lsKey())||"{}");
const saveCart = (c)=> localStorage.setItem(lsKey(),JSON.stringify(c));

/* ====== Render List ====== */
const tbody = document.getElementById("tbody");
function render(){
  if(!USER_KEY){ tbody.innerHTML="<tr><td colspan=4 style='padding:20px;text-align:center;color:#9aa7c7'>Isi Nama & No Telp dulu untuk memulai order.</td></tr>"; return;}
  const cart = loadCart();
  tbody.innerHTML="";
  let n=0;
  SETS.forEach(s=>{
    if(cart[s.id]) return; // hide sudah diorder
    n++;
    const tr=document.createElement("tr"); tr.className="row";
    tr.innerHTML=`
      <td class="td no" data-label="No">${n}</td>
      <td class="td" data-label="Judul"><div class="title">${s.title}</div><div style="color:#9aa7c7">ID: ${s.id}</div></td>
      <td class="td" data-label="Gambar Belakang"><div class="thumb"><img src="${s.back}"></div></td>
      <td class="td pick" data-label="Pilih">
        <input type="checkbox" data-id="${s.id}" ${!USER_KEY?"disabled":""}>
      </td>`;
    tbody.appendChild(tr);
  });
  if(!n){ tbody.innerHTML="<tr><td colspan=4 style='padding:20px;text-align:center;color:#9aa7c7'>Semua item sudah diorder.</td></tr>";}
  // bind
  tbody.querySelectorAll("input[type=checkbox]").forEach(cb=>{
    cb.onchange=()=>{
      const id=cb.dataset.id; const cart=loadCart();
      if(cb.checked){ cart[id]={qty:1,price:PRICE}; saveCart(cart); render(); }
    };
  });
}

/* ====== Form Identitas ====== */
document.getElementById("startBtn").onclick=()=>{
  const nama=document.getElementById("nama").value.trim();
  const telp=document.getElementById("telp").value.trim();
  if(!nama||!telp){ alert("Isi nama & no telp dulu!"); return;}
  USER_KEY = nama.replace(/\s+/g,"_")+"_"+telp;
  render();
};
render();
</script>
</body>
</html>
