<!doctype html>
<html lang="id">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Detail Desain ‚Ä¢ Zenius Supply Co</title>
<style>
  :root{--bg:#0f1115;--card:#171922;--fg:#e8eefc;--muted:#9aa7c7;--line:#23283a}
  *{box-sizing:border-box} body{margin:0;background:linear-gradient(180deg,#0f1115,#0b0d12);color:var(--fg);font:500 15px/1.55 system-ui,Segoe UI,Inter,Arial}
  .wrap{max-width:1100px;margin:auto;padding:22px}
  header{display:flex;align-items:center;gap:10px;margin-bottom:14px}
  .spacer{flex:1}
  a.link, .btn{display:inline-flex;align-items:center;gap:8px;text-decoration:none;color:#cfe1ff;background:#101422;border:1px solid #26304f;padding:8px 12px;border-radius:10px;cursor:pointer}
  .badge{margin-left:6px;background:#ef4444;border-radius:999px;padding:2px 7px;font:700 11px/1 system-ui;color:#fff;border:2px solid #0f1320}

  h1{font:800 20px/1.2;margin:0 0 6px}
  .muted{color:var(--muted);font-size:12px}
  .card{background:#171922;border:1px solid var(--line);border-radius:14px;box-shadow:0 6px 20px rgba(0,0,0,.35);padding:12px}
  .grid{display:grid;grid-template-columns:repeat(3,1fr);gap:14px}
  .tile{background:#0e1018;border:1px solid var(--line);border-radius:12px;overflow:hidden}
  .tile img{width:100%;height:260px;object-fit:cover;display:block;cursor:pointer}
  .label{padding:10px 12px;border-top:1px solid #22283b}

  @media (max-width:900px){ .grid{grid-template-columns:repeat(2,1fr)} .tile img{height:220px} }
  @media (max-width:560px){ .wrap{padding:14px} .grid{grid-template-columns:1fr} .tile img{height:auto;aspect-ratio:1/1} }
</style>
</head>
<body>
<div class="wrap">
  <header>
    <a href="order_design.html" class="link">‚Üê Kembali</a>
    <div class="spacer"></div>
    <a href="order_design.html" class="link">üß∫ Keranjang <span id="badge" class="badge" style="display:none">0</span></a>
    <button id="pickBtn" class="btn">‚úì Pilih Set Ini</button>
  </header>

  <div id="head">
    <h1 id="title">Detail Desain</h1>
    <div class="muted" id="meta"></div>
  </div>

  <section class="card" style="margin-top:10px">
    <div class="grid" id="grid"></div>
    <p class="muted" style="margin-top:8px">Klik gambar untuk membuka ukuran penuh (tab baru).</p>
  </section>
</div>

<script>
const SETS = [
  {
    id: "set-nothing",
    title: "Nothing is Imposible",
    logo:   "./gambar/Nothing_Logo.png",
    back:   "./gambar/Nothing_Back.png",
    mockup: "./gambar/Nothing_Mockup.png"
  }
];
const PRICE = 30000, LS_KEY = "orderCart";
const loadCart = () => JSON.parse(localStorage.getItem(LS_KEY) || "{}");
const saveCart = (c) => localStorage.setItem(LS_KEY, JSON.stringify(c));

const params = new URLSearchParams(location.search);
const id = params.get("id");
const set = SETS.find(s=>s.id===id);
const grid = document.getElementById("grid");
const titleEl = document.getElementById("title");
const metaEl = document.getElementById("meta");
const badge = document.getElementById("badge");
const pickBtn = document.getElementById("pickBtn");

function updateBadge(){
  const count = Object.values(loadCart()).reduce((a,c)=>a+(c.qty||0),0);
  badge.style.display = count ? "inline-block" : "none";
  badge.textContent = count;
}

if(!set){
  titleEl.textContent = "Desain tidak ditemukan";
  metaEl.textContent = "Periksa kembali tautan/id.";
}else{
  titleEl.textContent = set.title;
  metaEl.textContent  = `ID: ${set.id}`;

  const imgs = [
    {label:"Logo (kiri dada)", src:set.logo},
    {label:"Desain Belakang", src:set.back},
    {label:"Mockup", src:set.mockup}
  ];

  imgs.forEach(it=>{
    const card = document.createElement("div");
    card.className = "tile";
    card.innerHTML = `
      <a href="${it.src}" target="_blank" rel="noopener">
        <img loading="lazy" src="${it.src}" alt="${set.title} ‚Ä¢ ${it.label}">
      </a>
      <div class="label"><strong>${it.label}</strong><div class="muted">${it.src.split('/').pop()}</div></div>
    `;
    grid.appendChild(card);
  });

  pickBtn.onclick = ()=>{
    const cart = loadCart();
    cart[set.id] = { qty: (cart[set.id]?.qty||0) + 1, price: PRICE };
    saveCart(cart);
    updateBadge();
    pickBtn.textContent = "‚úì Ditambahkan (klik lagi untuk tambah qty)";
  };
}

updateBadge();
</script>
</body>
</html>
