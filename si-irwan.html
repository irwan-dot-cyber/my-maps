<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Direktorat Irigasi & Rawa</title>
  <meta name="description" content="Portal Irigasi & Rawa: dashboard, peta, form pelaporan, dokumen teknis." />
  <link rel="icon" href="assets/LogoPUPR.png" />
  <!-- Tailwind CDN -->
  <script src="https://cdn.tailwindcss.com"></script>
  <!-- Leaflet -->
  <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"/>
  <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
  <style>
    /* Smooth scroll & small polish */
    html { scroll-behavior: smooth; }
    .glass { background: rgba(255,255,255,0.1); backdrop-filter: blur(10px); }
    .mask-gradient { mask-image: linear-gradient(to bottom, black 70%, transparent); }
  </style>
</head>
<body class="text-slate-800 antialiased bg-slate-50">

  <!-- Top Announce -->
  <div class="bg-amber-50 border-b border-amber-200">
    <div class="max-w-7xl mx-auto px-4 py-2 text-sm flex items-center gap-2">
      <span class="inline-flex items-center justify-center w-5 h-5 rounded-full bg-amber-200">üì¢</span>
      <div class="overflow-hidden whitespace-nowrap">
        <div class="animate-[scroll_22s_linear_infinite] inline-block">
          <span class="mr-10">Update 02 Okt 2025: Integrasi dashboard ‚ÄúPelaksanaan Inpres 2/2025 Tahap 1‚Äù.</span>
          <span class="mr-10">Rainfall Radar & Telemetri sudah sinkron per BWS.</span>
          <span class="mr-10">Form Survey123 baru: Monitoring Progres Lapangan.</span>
        </div>
      </div>
    </div>
  </div>

  <!-- Navbar -->
  <header class="sticky top-0 z-40 bg-white/90 backdrop-blur border-b border-slate-200">
    <div class="max-w-7xl mx-auto px-4 py-3 flex items-center justify-between">
      <a href="#" class="flex items-center gap-3">
        <img src="assets/LogoPUPR.png" alt="PU" class="w-9 h-9" />
        <div>
          <div class="font-bold tracking-wide">Direktorat Irigasi & Rawa</div>
          <div class="text-xs text-slate-500">Kementerian Pekerjaan Umum</div>
        </div>
      </a>
      <nav class="hidden md:flex items-center gap-6 text-sm">
        <a href="#dashboard" class="hover:text-slate-900 text-slate-600">Dashboard</a>
        <a href="#peta" class="hover:text-slate-900 text-slate-600">Peta</a>
        <a href="#form" class="hover:text-slate-900 text-slate-600">Form</a>
        <a href="#dokumen" class="hover:text-slate-900 text-slate-600">Dokumen</a>
        <a href="#tim" class="hover:text-slate-900 text-slate-600">Tim</a>
        <a href="#kontak" class="hover:text-slate-900 text-slate-600">Kontak</a>
      </nav>
      <a href="#airbot" class="hidden md:inline-flex items-center gap-2 px-3 py-2 rounded-xl bg-slate-900 text-white text-sm">
        <img src="assets/A.I.R, the Water Droplet Mascot.png" alt="AIR-bot" class="w-5 h-5"> Chatbot A.I.R
      </a>
      <button id="btnMenu" class="md:hidden inline-flex items-center p-2 rounded-lg border">
        ‚ò∞
      </button>
    </div>
    <!-- Mobile menu -->
    <div id="mobileMenu" class="hidden md:hidden border-t border-slate-200">
      <nav class="px-4 py-3 flex flex-col gap-2 text-sm">
        <a href="#dashboard" class="py-2">Dashboard</a>
        <a href="#peta" class="py-2">Peta</a>
        <a href="#form" class="py-2">Form</a>
        <a href="#dokumen" class="py-2">Dokumen</a>
        <a href="#tim" class="py-2">Tim</a>
        <a href="#kontak" class="py-2">Kontak</a>
        <a href="#airbot" class="py-2 font-semibold">Chatbot A.I.R</a>
      </nav>
    </div>
  </header>

  <!-- Hero -->
  <section class="relative">
    <div class="absolute inset-0">
      <img src="assets/bg_irigasi.jpg" alt="Hero Irigasi & Rawa" class="w-full h-[56vh] md:h-[72vh] object-cover mask-gradient">
    </div>
    <div class="relative z-10">
      <div class="max-w-7xl mx-auto px-4 pt-14 md:pt-20 pb-10 md:pb-20">
        <div class="max-w-3xl glass rounded-3xl p-6 md:p-10 text-white bg-slate-900/60">
          <div class="inline-flex items-center gap-2 text-xs md:text-sm text-emerald-200 mb-3">
            <span class="w-2 h-2 rounded-full bg-emerald-300"></span>
            Data hidup ‚Ä¢ Dashboard ‚Ä¢ Form Lapangan
          </div>
          <h1 class="text-3xl md:text-5xl font-extrabold leading-tight">
            Portal Irigasi & Rawa ‚Äî Monitoring, Peta, dan Otomasi Pelaporan
          </h1>
          <p class="mt-4 text-slate-200">
            Akses cepat ke dashboard pelaksanaan, radar hujan, telemetri, serta form Survey123
            dengan dropdown provinsi‚Äìkabupaten otomatis dan unggah foto lokasi.
          </p>
          <div class="mt-6 flex flex-wrap items-center gap-3">
            <a href="my-maps.html" class="px-5 py-3 rounded-xl bg-white text-slate-900 font-semibold">Buka My-Maps</a>
            <a href="inpres-2-2025.html" class="px-5 py-3 rounded-xl border border-white/60 text-white">Pelaksanaan Inpres 2/2025</a>
            <a href="#dashboard" class="px-5 py-3 rounded-xl border border-white/30 text-white/90">Lihat Semua</a>
          </div>
          <div class="mt-6 grid grid-cols-2 md:grid-cols-4 gap-3 text-center">
            <div class="rounded-xl bg-white/10 p-3">
              <div class="text-xl font-bold">34</div>
              <div class="text-xs opacity-80">Provinsi</div>
            </div>
            <div class="rounded-xl bg-white/10 p-3">
              <div class="text-xl font-bold">200+</div>
              <div class="text-xs opacity-80">Kab/Kota</div>
            </div>
            <div class="rounded-xl bg-white/10 p-3">
              <div class="text-xl font-bold">1.2K</div>
              <div class="text-xs opacity-80">Asset Irigasi</div>
            </div>
            <div class="rounded-xl bg-white/10 p-3">
              <div class="text-xl font-bold">Realtime</div>
              <div class="text-xs opacity-80">Radar & Telemetri</div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- Quick tiles -->
  <section id="dashboard" class="py-12 md:py-16">
    <div class="max-w-7xl mx-auto px-4">
      <div class="flex items-end justify-between gap-4">
        <h2 class="text-2xl md:text-3xl font-bold">Dashboard & Peta</h2>
        <a href="my-maps.html" class="text-sm text-slate-600 hover:text-slate-900">Lihat semua ‚Üí</a>
      </div>

      <div class="mt-6 grid sm:grid-cols-2 lg:grid-cols-3 gap-5">
        <!-- Card -->
        <a href="dashboards/pelaksanaan-inpres-2025.html" class="block p-5 rounded-2xl bg-white border hover:shadow-lg transition">
          <div class="text-sm text-emerald-600 font-semibold">Pelaksanaan</div>
          <div class="mt-1 font-bold text-lg">Inpres 2/2025 ‚Ä¢ Tahap 1</div>
          <p class="mt-2 text-sm text-slate-600">Progress fisik & keuangan, filter per BWS/Provinsi.</p>
        </a>

        <a href="dashboards/rainfall.html" class="block p-5 rounded-2xl bg-white border hover:shadow-lg transition">
          <div class="text-sm text-blue-600 font-semibold">Cuaca</div>
          <div class="mt-1 font-bold text-lg">Radar Hujan (RainViewer)</div>
          <p class="mt-2 text-sm text-slate-600">Animasi radar, kecepatan dapat diatur, peringatan petir.</p>
        </a>

        <a href="dashboards/telemetri.html" class="block p-5 rounded-2xl bg-white border hover:shadow-lg transition">
          <div class="text-sm text-violet-600 font-semibold">Realtime</div>
          <div class="mt-1 font-bold text-lg">Telemetri Irigasi</div>
          <p class="mt-2 text-sm text-slate-600">Grafik ketinggian muka air, debit, dan status stasiun.</p>
        </a>

        <a href="my-maps.html" class="block p-5 rounded-2xl bg-white border hover:shadow-lg transition">
          <div class="text-sm text-rose-600 font-semibold">Peta</div>
          <div class="mt-1 font-bold text-lg">Portal Peta (Leaflet/ArcGIS)</div>
          <p class="mt-2 text-sm text-slate-600">Layer jaringan irigasi, jalan akses, dan aset.</p>
        </a>

        <a href="experience-builder/index.html" class="block p-5 rounded-2xl bg-white border hover:shadow-lg transition">
          <div class="text-sm text-sky-600 font-semibold">Apps</div>
          <div class="mt-1 font-bold text-lg">Experience Builder</div>
          <p class="mt-2 text-sm text-slate-600">Template EB kustom + widget filter progres.</p>
        </a>

        <a href="#airbot" class="block p-5 rounded-2xl bg-slate-900 text-white hover:shadow-xl transition">
          <div class="text-sm text-emerald-300 font-semibold">AI</div>
          <div class="mt-1 font-bold text-lg">Chatbot A.I.R</div>
          <p class="mt-2 text-sm text-slate-200">Asisten Irigasi & Rawa: tanya jawab dokumen & peta.</p>
        </a>
      </div>
    </div>
  </section>

  <!-- Mini Map -->
  <section id="peta" class="py-12 md:py-16 bg-white">
    <div class="max-w-7xl mx-auto px-4">
      <div class="flex items-end justify-between gap-4">
        <h2 class="text-2xl md:text-3xl font-bold">Peta Singkat</h2>
        <div class="text-sm text-slate-600">Centang untuk fokus area cepat</div>
      </div>
      <div class="mt-4 grid lg:grid-cols-[1fr,320px] gap-5">
        <div class="rounded-2xl overflow-hidden border">
          <div id="map" class="h-[380px]"></div>
        </div>
        <div class="rounded-2xl border bg-slate-50 p-4">
          <div class="font-semibold mb-3">Lokasi Cepat</div>
          <form id="quickForm" class="space-y-3 text-sm">
            <label class="flex items-center gap-2"><input type="radio" name="loc" value="indonesia" checked> Indonesia (pusat)</label>
            <label class="flex items-center gap-2"><input type="radio" name="loc" value="jakarta"> DKI Jakarta</label>
            <label class="flex items-center gap-2"><input type="radio" name="loc" value="jawaTengah"> Jawa Tengah</label>
            <label class="flex items-center gap-2"><input type="radio" name="loc" value="sumsel"> Sumatera Selatan</label>
            <div class="pt-3 border-t">
              <div class="font-semibold mb-2">Lon/Lat manual</div>
              <div class="grid grid-cols-2 gap-2">
                <input id="lon" type="number" step="0.000001" placeholder="Longitude" class="px-3 py-2 rounded-lg border">
                <input id="lat" type="number" step="0.000001" placeholder="Latitude" class="px-3 py-2 rounded-lg border">
              </div>
              <button type="button" id="btnGo" class="mt-2 w-full px-3 py-2 rounded-lg bg-slate-900 text-white">Go</button>
            </div>
            <a href="my-maps.html" class="inline-flex items-center gap-2 text-slate-700 hover:text-slate-900 pt-2">
              ‚ûú Buka Portal Peta Lengkap
            </a>
          </form>
        </div>
      </div>
    </div>
  </section>

  <!-- Forms -->
  <section id="form" class="py-12 md:py-16">
    <div class="max-w-7xl mx-auto px-4">
      <h2 class="text-2xl md:text-3xl font-bold">Form Pelaporan (Survey123)</h2>
      <p class="mt-2 text-slate-600">Dropdown Provinsi/Kabupaten otomatis, unggah foto (kamera/galeri), progress & koordinat.</p>

      <div class="mt-6 grid sm:grid-cols-2 lg:grid-cols-3 gap-5">
        <a href="forms/monitoring-progres.html" class="block p-5 rounded-2xl bg-white border hover:shadow-lg">
          <div class="text-sm text-emerald-600 font-semibold">Lapangan</div>
          <div class="mt-1 font-bold">Monitoring Progres</div>
          <p class="mt-2 text-sm text-slate-600">Status pekerjaan, foto bukti, titik koordinat.</p>
        </a>

        <a href="forms/telemetri-laporan.html" class="block p-5 rounded-2xl bg-white border hover:shadow-lg">
          <div class="text-sm text-blue-600 font-semibold">Telemetri</div>
          <div class="mt-1 font-bold">Laporan Stasiun</div>
          <p class="mt-2 text-sm text-slate-600">Kondisi perangkat, anomali bacaan, dokumentasi.</p>
        </a>

        <a href="forms/inspeksi-aset.html" class="block p-5 rounded-2xl bg-white border hover:shadow-lg">
          <div class="text-sm text-violet-600 font-semibold">Aset</div>
          <div class="mt-1 font-bold">Inspeksi Aset</div>
          <p class="mt-2 text-sm text-slate-600">BM/patok, jaringan, pintu air, akses jalan.</p>
        </a>
      </div>
    </div>
  </section>

  <!-- Dokumen -->
  <section id="dokumen" class="py-12 md:py-16 bg-white">
    <div class="max-w-7xl mx-auto px-4">
      <div class="flex items-end justify-between">
        <h2 class="text-2xl md:text-3xl font-bold">Dokumen Penting</h2>
        <span class="text-sm text-slate-500">Referensi RAB, HPS, SBM, SK BIG</span>
      </div>
      <div class="mt-6 grid md:grid-cols-2 gap-5">
        <div class="p-5 rounded-2xl border bg-slate-50">
          <div class="font-semibold">Regulasi & Standar</div>
          <ul class="mt-3 space-y-2 text-sm list-disc pl-5">
            <li><a href="docs/SK-BIG.pdf" class="text-slate-700 hover:text-slate-900">SK BIG (Geospasial & ketentuan peta)</a></li>
            <li><a href="docs/SBM-terbaru.pdf" class="text-slate-700 hover:text-slate-900">SBM (Standar Biaya Masukan)</a></li>
            <li><a href="docs/HPS-pedoman.pdf" class="text-slate-700 hover:text-slate-900">Pedoman HPS & contoh</a></li>
          </ul>
        </div>
        <div class="p-5 rounded-2xl border bg-slate-50">
          <div class="font-semibold">Template & Contoh</div>
          <ul class="mt-3 space-y-2 text-sm list-disc pl-5">
            <li><a href="docs/template-RAB-survei.xlsx" class="text-slate-700 hover:text-slate-900">Template RAB Survei & Pemetaan (Excel)</a></li>
            <li><a href="docs/contoh-laporan.pdf" class="text-slate-700 hover:text-slate-900">Contoh Laporan Pekerjaan</a></li>
            <li><a href="docs/daftar-harga-satuan.xlsx" class="text-slate-700 hover:text-slate-900">Daftar Harga Satuan (HPS)</a></li>
          </ul>
        </div>
      </div>
    </div>
  </section>

  <!-- AIR-bot -->
  <section id="airbot" class="py-12 md:py-16">
    <div class="max-w-7xl mx-auto px-4 grid lg:grid-cols-[1fr,380px] gap-6">
      <div class="p-6 md:p-8 rounded-3xl bg-slate-900 text-white">
        <div class="flex items-center gap-3">
          <img src="assets/logo-air-bot.png" alt="AIR-bot" class="w-9 h-9">
          <div>
            <div class="text-emerald-300 text-sm font-semibold">Asisten Irigasi & Rawa</div>
            <h3 class="text-2xl md:text-3xl font-extrabold">Chatbot A.I.R</h3>
          </div>
        </div>
        <p class="mt-4 text-slate-200">
          Tanyakan apa saja soal dokumen, peta, progres, hingga troubleshooting.
          Terintegrasi dengan indeks PDF internal & endpoint lokal.
        </p>
        <div class="mt-6 flex flex-wrap gap-3">
          <a href="air-bot/index.html" class="px-5 py-3 rounded-xl bg-white text-slate-900 font-semibold">Buka Chat</a>
          <a href="air-bot/docs-unggah.html" class="px-5 py-3 rounded-xl border border-white/40">Unggah Dokumen</a>
        </div>
      </div>
      <div class="p-6 rounded-3xl border bg-white">
        <div class="font-semibold">Contoh Pertanyaan</div>
        <ul class="mt-3 text-sm space-y-2 text-slate-700">
          <li>‚Ä¢ ‚ÄúTampilkan progres D.I. Kalibawang minggu ini.‚Äù</li>
          <li>‚Ä¢ ‚ÄúCari HPS untuk sewa laptop dan patok BM.‚Äù</li>
          <li>‚Ä¢ ‚ÄúLayer peta yang relevan untuk Progo-Opak-Serang?‚Äù</li>
          <li>‚Ä¢ ‚ÄúBuat ringkasannya jadi laporan 1 halaman.‚Äù</li>
        </ul>
      </div>
    </div>
  </section>

  <!-- Tim -->
  <section id="tim" class="py-12 md:py-16 bg-white">
    <div class="max-w-7xl mx-auto px-4">
      <h2 class="text-2xl md:text-3xl font-bold">Tim & Kolaborator</h2>
      <p class="mt-2 text-slate-600">Koordinasi lintas BWS, konsultan, dan pengelola aset.</p>
      <div class="mt-6 grid sm:grid-cols-2 lg:grid-cols-3 gap-5">
        <div class="p-5 rounded-2xl border bg-slate-50">
          <div class="font-semibold">Direktorat Irigasi & Rawa</div>
          <div class="text-sm text-slate-600 mt-1">Koordinasi kebijakan & monitoring nasional</div>
        </div>
        <div class="p-5 rounded-2xl border bg-slate-50">
          <div class="font-semibold">BWS/BBWS</div>
          <div class="text-sm text-slate-600 mt-1">Pelaksanaan & pelaporan wilayah sungai</div>
        </div>
        <div class="p-5 rounded-2xl border bg-slate-50">
          <div class="font-semibold">Mitra Teknis</div>
          <div class="text-sm text-slate-600 mt-1">GIS, telemetri, survei & pemetaan</div>
        </div>
      </div>
    </div>
  </section>

  <!-- Kontak -->
  <section id="kontak" class="py-12 md:py-16">
    <div class="max-w-7xl mx-auto px-4">
      <h2 class="text-2xl md:text-3xl font-bold">Kontak</h2>
      <div class="mt-4 grid md:grid-cols-2 gap-6">
        <form class="p-6 rounded-2xl border bg-white">
          <div class="grid sm:grid-cols-2 gap-3">
            <input type="text" placeholder="Nama" class="px-4 py-3 rounded-xl border">
            <input type="tel" placeholder="No. HP (628‚Ä¶)" class="px-4 py-3 rounded-xl border">
          </div>
          <input type="email" placeholder="Email" class="mt-3 w-full px-4 py-3 rounded-xl border">
          <textarea rows="4" placeholder="Pesan‚Ä¶" class="mt-3 w-full px-4 py-3 rounded-xl border"></textarea>
          <button type="button" class="mt-4 px-5 py-3 rounded-xl bg-slate-900 text-white">Kirim</button>
        </form>
        <div class="p-6 rounded-2xl border bg-slate-50">
          <div class="font-semibold">Info</div>
          <div class="mt-2 text-sm text-slate-700">
            üìç Jakarta, Indonesia<br/>
            üìß irigasi.rawa@pu.go.id<br/>
            üîó Portal internal & dashboard terhubung ke repo GitLab
          </div>
          <div class="mt-4">
            <a href="my-maps.html" class="inline-flex items-center gap-2 px-4 py-2 rounded-xl bg-white border hover:shadow">üåê Buka My-Maps</a>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- Footer -->
  <footer class="border-t border-slate-200">
    <div class="max-w-7xl mx-auto px-4 py-8 text-sm text-slate-600 flex flex-col md:flex-row items-center justify-between gap-3">
      <div>¬© 2025 Direktorat Irigasi & Rawa ‚Ä¢ Kementerian PUPR</div>
      <div class="flex items-center gap-4">
        <a class="hover:text-slate-900" href="#dokumen">Dokumen</a>
        <a class="hover:text-slate-900" href="#form">Form</a>
        <a class="hover:text-slate-900" href="#airbot">Chatbot A.I.R</a>
      </div>
    </div>
  </footer>

  <!-- Scripts -->
  <script>
    // Mobile menu
    const btnMenu = document.getElementById('btnMenu');
    const mobileMenu = document.getElementById('mobileMenu');
    btnMenu?.addEventListener('click', () => mobileMenu.classList.toggle('hidden'));

    // Leaflet mini map
    let map = L.map('map', { zoomControl: true }).setView([-2.5, 117], 5);
    const base = L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
      maxZoom: 19, attribution: '&copy; OpenStreetMap'
    }).addTo(map);
    let marker = L.marker([-2.5, 117]).addTo(map).bindPopup('Indonesia');

    // Quick focus handlers
    const locs = {
      indonesia: { lat: -2.5, lon: 117, z: 5, label: 'Indonesia' },
      jakarta:   { lat: -6.2, lon: 106.8, z: 10, label: 'DKI Jakarta' },
      jawaTengah:{ lat: -7.2, lon: 110.3, z: 9, label: 'Jawa Tengah' },
      sumsel:    { lat: -3.2, lon: 104.7, z: 8, label: 'Sumatera Selatan' }
    };
    document.getElementById('quickForm').addEventListener('change', (e) => {
      const v = document.querySelector('input[name="loc"]:checked').value;
      const t = locs[v];
      map.setView([t.lat, t.lon], t.z);
      marker.setLatLng([t.lat, t.lon]).setPopupContent(t.label);
    });

    // Go to entered lon/lat
    document.getElementById('btnGo').addEventListener('click', () => {
      const lon = parseFloat(document.getElementById('lon').value);
      const lat = parseFloat(document.getElementById('lat').value);
      if (Number.isFinite(lon) && Number.isFinite(lat)) {
        map.setView([lat, lon], 11);
        marker.setLatLng([lat, lon]).setPopupContent(`Lon ${lon.toFixed(5)}, Lat ${lat.toFixed(5)}`);
      } else {
        alert('Isi Longitude & Latitude dengan benar.');
      }
    });

    // Simple marquee keyframes
    const style = document.createElement('style');
    style.textContent = `@keyframes scroll { 0%{transform:translateX(0)} 100%{transform:translateX(-100%)} }`;
    document.head.appendChild(style);
  </script>
</body>
</html>
