<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>KEMENTERIAN PEKERJAAN UMUM</title>

  <!-- Font Awesome (ikon) -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">

  <style>
    /* Pengaturan Dasar */
    body {
      font-family: 'Arial', sans-serif;
      margin: 0; padding: 0;
      background-color: #f0f2f5; color: #333;
      display: flex; flex-direction: column; align-items: center;
    }

    /* Header Utama */
    .main-header { background-color: #0d47a1; width: 100%; padding: 15px 0; color: white; text-align: left; box-shadow: 0 2px 4px rgba(0,0,0,0.2); }
    .header-content { max-width: 900px; margin: 0 auto; display: flex; align-items: center; padding: 0 20px; }
    .logo-text { display: flex; align-items: center; }
    .logo { width: 60px; height: 60px; margin-right: 15px; border-radius: 5px; }
    .text-info p { margin: 0; font-size: 0.85em; line-height: 1.3; }
    .text-info .instansi { font-weight: bold; font-size: 1.1em; }
    .text-info .unit { font-size: 0.9em; }
    .text-info .alamat { font-size: 0.8em; opacity: 0.9; }

    /* Navigasi Utama */
    .main-nav { background-color: #0d47a1; width: 100%; padding: 10px 0; display: flex; justify-content: center; gap: 15px; margin-bottom: 20px; }
    .nav-button { background-color: #ff9800; color: white; border: none; padding: 10px 20px; border-radius: 5px; font-weight: bold; cursor: pointer; transition: background-color 0.3s ease; min-width: 120px; }
    .dropdown-menu:nth-child(2) .nav-button { background-color: #4CAF50; }
    .nav-button:hover, .nav-button.active { filter: brightness(1.1); box-shadow: 0 2px 5px rgba(0,0,0,0.3); }
    .dropdown-menu { position: relative; display: inline-block; }
    .dropdown-menu .nav-button { padding-right: 30px; }
    .dropdown-content { display: none; position: absolute; background-color: #f9f9f9; min-width: 180px; box-shadow: 0 8px 16px rgba(0,0,0,0.2); z-index: 100; border-radius: 5px; overflow: hidden; left: 50%; transform: translateX(-50%); top: 100%; border: 1px solid #ccc; }
    .dropdown-content a { color: #333; padding: 12px 16px; text-decoration: none; display: block; text-align: left; font-size: 0.9em; border-bottom: 1px solid #eee; }
    .dropdown-content a:last-child { border-bottom: none; }
    .dropdown-content a:hover { background-color: #ddd; color: #0d47a1; }
    .dropdown-content.show { display: block; }
    .nav-button i { margin-left: 8px; transition: transform 0.3s ease; }

    /* Konten Utama */
    .main-content { max-width: 900px; width: 100%; background-color: white; padding: 20px; border-radius: 8px; box-shadow: 0 4px 8px rgba(0,0,0,0.1); box-sizing: border-box; }

    /* Carousel */
    .image-carousel-container { position: relative; width: 100%; aspect-ratio: 16 / 9; background-color: #e0e0e0; border-radius: 8px; overflow: hidden; margin-bottom: 20px; box-shadow: 0 2px 5px rgba(0,0,0,0.2); }
    .carousel-image { width: 100%; height: 100%; object-fit: cover; display: block; }
    .carousel-overlay { position: absolute; top: 15px; left: 50%; transform: translateX(-50%); background-color: #ffc107; color: #333; padding: 10px 20px; border-radius: 8px; text-align: center; max-width: 80%; box-shadow: 0 2px 5px rgba(0,0,0,0.3); z-index: 5; }
    .carousel-overlay .instruksi-title { font-weight: bold; font-size: 1.1em; margin-bottom: 5px; }
    .carousel-overlay .instruksi-desc { font-size: 0.9em; line-height: 1.4; margin: 0; }
    .carousel-arrow { position: absolute; top: 50%; transform: translateY(-50%); background-color: rgba(0,0,0,0.5); color: white; border: none; padding: 10px 15px; border-radius: 50%; cursor: pointer; font-size: 1.2em; z-index: 6; }
    .left-arrow { left: 10px; } .right-arrow { right: 10px; }
    .carousel-dots { position: absolute; bottom: 15px; left: 50%; transform: translateX(-50%); display: flex; gap: 8px; z-index: 5; }
    .dot { width: 10px; height: 10px; background-color: rgba(255,255,255,0.5); border-radius: 50%; cursor: pointer; }
    .dot.active { background-color: white; }

    .copyright-year { text-align: center; margin-top: 15px; font-size: 0.9em; color: #555; font-weight: bold; }

    /* Visitor Counter (label) */
    .visitor-counter { display: flex; justify-content: center; align-items: center; margin-top: 25px; font-size: 1.1em; color: #444; text-align: center; gap: 10px; flex-wrap: wrap; }
    .visitor-counter p { margin: 0; font-weight: bold; }

    /* Footer */
    footer { width: 100%; background-color: #0d47a1; color: white; padding: 15px 0; text-align: center; margin-top: 30px; font-size: 0.85em; box-shadow: 0 -2px 4px rgba(0,0,0,0.2); }

    /* === AIR GPTs Floating === */
    .air-fab {
      position: fixed; right: 20px; bottom: 20px;
      width: 60px; height: 60px; border-radius: 50%;
      background: #0ea5e9; box-shadow: 0 8px 24px rgba(2, 6, 23, 0.35);
      display: grid; place-items: center; cursor: pointer; z-index: 9999;
      border: 3px solid #fff;
    }
    .air-fab img { width: 100%; height: 100%; object-fit: cover; border-radius: 50%; }
    .air-fab:hover { filter: brightness(1.05); }

    .air-card {
      position: fixed; right: 20px; bottom: 90px;
      width: 300px; max-width: calc(100vw - 40px);
      background: #ffffff; color: #0f172a;
      border-radius: 14px; box-shadow: 0 12px 36px rgba(2, 6, 23, 0.35);
      padding: 12px; z-index: 9999; border: 1px solid #e2e8f0; display: none;
    }
    .air-card.show { display: block; animation: airSlide .18s ease-out; }
    @keyframes airSlide { from { opacity: 0; transform: translateY(8px) } to { opacity: 1; transform: translateY(0) } }
    .air-head { display: flex; align-items: center; gap: 10px; margin-bottom: 8px; }
    .air-head .badge { font-size: 12px; color: #0ea5e9; background: #e0f2fe; border: 1px solid #bae6fd; padding: 2px 8px; border-radius: 999px; }
    .air-title { font-weight: 800; font-size: 16px; line-height: 1.1; }
    .air-desc { font-size: 13px; color: #475569; margin: 6px 0 10px; }
    .air-actions { display: grid; gap: 8px; }
    .air-actions a, .air-actions button {
      display: inline-flex; align-items: center; justify-content: center; gap: 8px;
      padding: 10px 12px; border-radius: 10px; border: 1px solid #e2e8f0;
      background: #0ea5e9; color: #fff; font-weight: 700; text-decoration: none; cursor: pointer;
    }
    .air-actions .ghost { background: #fff; color: #0f172a; }
    .air-actions a:hover, .air-actions button:hover { filter: brightness(1.03); }

    @media (max-width: 768px) {
      .header-content { flex-direction: column; text-align: center; }
      .logo-text { flex-direction: column; margin-bottom: 10px; }
      .logo { margin-right: 0; margin-bottom: 10px; }
      .text-info p { font-size: 0.8em; }
      .text-info .instansi { font-size: 1em; }
      .main-nav { flex-wrap: wrap; gap: 10px; }
      .nav-button { min-width: unset; width: 45%; }
      .carousel-overlay { font-size: 0.9em; padding: 8px 15px; max-width: 90%; }
      .carousel-overlay .instruksi-title { font-size: 1em; }
      .carousel-overlay .instruksi-desc { font-size: 0.8em; }
      .carousel-arrow { padding: 8px 12px; font-size: 1em; }
      .carousel-dots { bottom: 10px; }
      .visitor-counter { flex-direction: column; }
      .visitor-counter p { margin-bottom: 10px; }
    }
    @media (max-width: 480px) {
      .main-content { padding: 15px; }
      .nav-button { width: 80%; }
      .air-fab { right: 16px; bottom: 16px; width: 56px; height: 56px; }
      .air-card { right: 16px; bottom: 80px; }
    }
  </style>
</head>
<body>
  <header class="main-header">
    <div class="header-content">
      <div class="logo-text">
        <img src="https://irwan-dot-cyber.github.io/my-maps/assets/LogoPUPR.png" alt="Logo PU" class="logo">
        <div class="text-info">
          <p class="instansi">KEMENTERIAN PEKERJAAN UMUM</p>
          <p class="unit">SEKRETARIAT JENDERAL SUMBER DAYA AIR</p>
          <p class="unit">DIREKTORAT IRIGASI DAN RAWA</p>
          <p class="alamat">Jl. Pattimura No. 20, Kebayoran Baru, Jakarta Selatan</p>
        </div>
      </div>
    </div>
  </header>

  <nav class="main-nav">
    <div class="dropdown-menu">
      <button class="nav-button active" onclick="toggleDropdown(this)" role="button" aria-expanded="false">
        TAHAP 1 <i class="fas fa-caret-down"></i>
      </button>
      <div class="dropdown-content">
        <a href="https://sigi.pu.go.id/portalpu/apps/experiencebuilder/experience/?id=68016c350cad43f3af3c0a55396be7a3&page=Form-Survey" target="_blank">Form Survey</a>
        <a href="https://sigi.pu.go.id/portalpu/apps/experiencebuilder/experience/?id=68016c350cad43f3af3c0a55396be7a3&page=Monitoring" target="_blank">Monitoring</a>
      </div>
    </div>

    <div class="dropdown-menu">
      <button class="nav-button" onclick="toggleDropdown(this)" role="button" aria-expanded="false">
        TAHAP 2 <i class="fas fa-caret-down"></i>
      </button>
      <div class="dropdown-content">
        <a href="https://irwan-dot-cyber.github.io/my-maps/survey/Form_Tahap2.html" target="_blank">Form Survey</a>
        <a href="https://irwan-dot-cyber.github.io/my-maps/survey/Monitoring_Tahap2.html" target="_blank">Monitoring</a>
      </div>
    </div>
  </nav>

  <main class="main-content">
    <div class="image-carousel-container">
      <div class="carousel-overlay">
        <p class="instruksi-title">Instruksi Presiden No. 2 Tahun 2025</p>
        <p class="instruksi-desc">Tentang Percepatan Pembangunan, Peningkatan, Rehabilitasi, Serta Operasi dan Pemeliharaan Jaringan Irigasi untuk Mendukung Swasembada Pangan</p>
      </div>
      <img src="https://irwan-dot-cyber.github.io/my-maps/assets/bg_irigasi.jpg" alt="Gambar Irigasi" class="carousel-image">

      <button class="carousel-arrow left-arrow"><i class="fas fa-chevron-left"></i></button>
      <button class="carousel-arrow right-arrow"><i class="fas fa-chevron-right"></i></button>
      <div class="carousel-dots">
        <span class="dot active"></span>
        <span class="dot"></span>
        <span class="dot"></span>
      </div>
    </div>

    <p class="copyright-year">@2025</p>

    <!-- Label pengunjung -->
    <div class="visitor-counter">
      <p>Jumlah Pengunjung :</p>
    </div>

    <!-- Counter eksternal (DISIMPAN DI BAWAH) -->
    <div class="visitor-counter" style="margin-top:8px;">
      <a href="https://www.freecounterstat.com">
        <img
          src="https://counter1.optistats.ovh/private/freecounterstat.php?c=1pbxhz1xshl9e262gkrm74ltq3mgwc8w"
          alt="free hit counter code"
          style="height:28px;border:0;"
        >
      </a>
    </div>
  </main>

  <footer>
    © 2025 • Kementerian Pekerjaan Umum
  </footer>

  <!-- === AIR GPTs Floating Widget === -->
  <div id="airFab" class="air-fab" aria-label="Buka AIR" title="Buka AIR">
    <img src="https://irwan-dot-cyber.github.io/my-maps/assets/air_avatar.png" alt="AIR Assistant">
  </div>

  <div id="airCard" class="air-card" role="dialog" aria-modal="false" aria-labelledby="airTitle">
    <div class="air-head">
      <img src="https://irwan-dot-cyber.github.io/my-maps/assets/air_avatar.png" alt="" style="width:40px;height:40px">
      <div>
        <div id="airTitle" class="air-title">Si-Irwan – aSisten Irigasi & Rawa Nasional</div>
        <span class="badge">GPTs</span>
      </div>
    </div>
    <div class="air-desc">Tanya apa saja tentang pelaksanaan Inpres, monitoring DI, form survey, dan hal teknis terkait SDA.</div>
    <div class="air-actions">
      <a href="https://chatgpt.com/g/g-68e0ae2bb8c081919205a701721b07da-a-i-r" target="_blank" rel="noopener">
        <i class="fas fa-rocket"></i> Buka Si-Irwan di ChatGPT
      </a>
      <a class="ghost" href="https://irwan-dot-cyber.github.io/my-maps/landingpage/beranda.html#panduan" target="_blank" rel="noopener">
        <i class="fas fa-book"></i> Panduan & FAQ
      </a>
    </div>
  </div>

  <script>
    // --- FUNGSI DROP DOWN ---
    function toggleDropdown(buttonElement) {
      const dropdownContent = buttonElement.nextElementSibling;

      document.querySelectorAll('.dropdown-content').forEach(content => {
        if (content !== dropdownContent) {
          content.classList.remove('show');
          if (content.previousElementSibling) {
            content.previousElementSibling.setAttribute('aria-expanded', 'false');
          }
        }
      });

      const isExpanded = dropdownContent.classList.toggle('show');
      buttonElement.setAttribute('aria-expanded', isExpanded);
    }

    // Tutup dropdown saat klik di luar
    window.addEventListener('click', (event) => {
      if (!event.target.closest('.dropdown-menu')) {
        document.querySelectorAll('.dropdown-content').forEach(content => {
          if (content.classList.contains('show')) {
            content.classList.remove('show');
            if (content.previousElementSibling) {
              content.previousElementSibling.setAttribute('aria-expanded', 'false');
            }
          }
        });
      }
    });

    // --- AIR Floating: toggle kartu ---
    (function(){
      const fab  = document.getElementById('airFab');
      const card = document.getElementById('airCard');

      function toggleCard(show){
        const willShow = (typeof show === 'boolean') ? show : !card.classList.contains('show');
        card.classList.toggle('show', willShow);
      }

      fab.addEventListener('click', (e)=>{ e.stopPropagation(); toggleCard(); });

      // klik luar untuk menutup
      document.addEventListener('click', (e)=>{
        if (!card.contains(e.target) && !fab.contains(e.target)) {
          toggleCard(false);
        }
      });

      // ESC untuk tutup
      document.addEventListener('keydown', (e)=>{
        if (e.key === 'Escape') toggleCard(false);
      });
    })();
  </script>
</body>
</html>
